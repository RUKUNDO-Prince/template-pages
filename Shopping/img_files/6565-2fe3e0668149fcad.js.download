"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6565],{58222:function(n,e,t){t.d(e,{Fp:function(){return r},Fv:function(){return a},HH:function(){return i},hI:function(){return o}});var r="claude-v1",o=["package.json","package-lock.json","yarn.lock","poetry.lock","package.json","package-lock.json",".replit","replit.nix","pyproject.toml",".breakpoints"],i=[".md",".yml",".yaml",".json",".toml",".out",".pkl"],a=["node_modules",".config","venv",".next",".git"]},34193:function(n,e,t){t.d(e,{Z:function(){return m}});var r=t(14251),o=t(52875),i=t(44747),a=t(9941),u=t(35944),c=t(60357),s=t.n(c),l=t(67294),f=t(62976),d=t(11163),p=t(84932),h=t(67629),g=(t(57263),t(81255)),E={xsmall:400,small:450,medium:550,large:900},v=100;function m(n){var e=n.children,t=(0,i.Z)(n,["children"]),r=t.onRequestClose,o=(0,d.useRouter)(),c=(0,a.Z)(l.useState(!1),2),h=c[0],m=c[1],T=(0,a.Z)(l.useState(t.isOpen),2),S=T[0],y=T[1],w=(0,a.Z)(l.useState(!1),2),R=w[0],_=w[1];if(l.useEffect((function(){if(t.isOpen){var n=setTimeout((function(){return _(!0)}));return function(){clearTimeout(n)}}_(!1)}),[t.isOpen]),l.useEffect((function(){if(!t.isOpen){var n=setTimeout((function(){y(!1)}),v);return function(){clearTimeout(n)}}y(t.isOpen)}),[t.isOpen]),l.useEffect((function(){return m(!0)}),[]),l.useEffect((function(){if(t.isOpen&&!t.preventCloseOnRouteChange){var n=function(){return r()};return o.events.on("routeChangeStart",n),function(){o.events.off("routeChangeStart",n)}}}),[t.isOpen,t.preventCloseOnRouteChange,o,r]),!h)return null;var A=E[t.width||"medium"],C=R?1:0;return(0,u.BX)(u.HY,{children:[(0,u.tZ)(f.Ot,{prefix:"modal",children:(0,u.tZ)(p.t9,{style:{opacity:C},isOpen:S,onDismiss:t.preventClose?void 0:t.onRequestClose,className:"oldModalOverlay",children:(0,u.BX)(p.cZ,{"aria-label":"Dialog",style:{maxWidth:"calc(".concat(A,"px + var(--space-32))")},className:"oldModalContent",children:[e,t.preventClose||t.hideCloseButton?null:(0,u.tZ)("div",{"aria-label":"Close",className:s().dynamic([["9f06ff8373dbab42",[g.n0,v]]])+" close-control",children:(0,u.tZ)(b,{onClick:function(){t.onRequestClose()}})})]})})}),(0,u.tZ)(s(),{id:"9f06ff8373dbab42",dynamic:[g.n0,v],children:".oldModalOverlay{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;z-index:".concat(g.n0,";background-color:var(--background-overlay);-webkit-transition:opacity ").concat(v,"ms;-moz-transition:opacity ").concat(v,"ms;-o-transition:opacity ").concat(v,"ms;transition:opacity ").concat(v,"ms;opacity:0;padding:0 var(--space-16)}.oldModalContent{margin:20vh auto;outline:none;position:relative;background-color:var(--background-default);-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);border:1px solid var(--background-highest)}.oldModalOverlay.is-open{opacity:1}.close-control.__jsx-style-dynamic-selector{position:absolute;top:0;right:0;-webkit-transform:translate(0,-webkit-calc(-100% - var(--space-8)));-moz-transform:translate(0,-moz-calc(-100% - var(--space-8)));-ms-transform:translate(0,calc(-100% - var(--space-8)));-o-transform:translate(0,calc(-100% - var(--space-8)));transform:translate(0,-webkit-calc(-100% - var(--space-8)));transform:translate(0,-moz-calc(-100% - var(--space-8)));transform:translate(0,calc(-100% - var(--space-8)))}")})]})}function b(n){return(0,u.BX)("button",(0,o.Z)((0,r.Z)({},n),{className:"jsx-a21f4f6814924b01 "+(n&&null!=n.className&&n.className||""),children:[(0,u.tZ)(h.Z,{}),(0,u.tZ)(s(),{id:"a21f4f6814924b01",children:"button.jsx-a21f4f6814924b01{cursor:pointer;color:var(--foreground-dimmest);border:1px solid var(--background-highest);background-color:var(--background-default);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;width:var(--space-32);height:var(--space-32)}button.jsx-a21f4f6814924b01:focus{outline:0 none}button.jsx-a21f4f6814924b01:hover{color:var(--foreground-default)}"})]}))}},16568:function(n,e,t){t.d(e,{B:function(){return h},R$:function(){return g}});var r=t(34727),o=t(9941),i=t(70655),a=t(76216),u=t(99408),c=t(41302),s=t(7182),l=t(67294),f=(0,s.cn)("unknown");function d(n){var e,t,r,o;if(n.error)return"unknown";var i,a,u,c="unknown";if((null===(e=n.config.interpreter)||void 0===e||null===(t=e.command)||void 0===t?void 0:t.args)&&(null===(i=n.config.interpreter)||void 0===i||null===(a=i.command)||void 0===a||a.args.forEach((function(n){/nodejs/.test(n)?c="nodejs":/python3/.test(n)&&(c="python3")})),"unknown"!==c))return c;if((null===(r=n.config.run)||void 0===r?void 0:r.args)&&(null===(u=n.config.run)||void 0===u||u.args.forEach((function(n){/vite/.test(n)?c="vite":/node|npm/.test(n)?c="nodejs":/python3/.test(n)&&(c="python3")})),"unknown"!==c))return c;if(null===(o=n.config.packager)||void 0===o?void 0:o.language){var s,l=null===(s=n.config.packager)||void 0===s?void 0:s.language;if(/nodejs/.test(l)?c="nodejs":/python3/.test(l)&&(c="python3"),"unknown"!==c)return c}return"unknown"}function p(n){var e="unknown";return/nodejs|typescript/.test(n)?e="nodejs":/python3/.test(n)&&(e="python3"),e}function h(){var n=(0,u.Z)().dotReplit,e=(0,a.Z)(),t=(0,c.d)(),h=(0,o.Z)((0,s.KO)(f),2)[1];(0,l.useEffect)((function(){function o(){return(o=(0,r.Z)((function(){var r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t?[4,n.getConfig()]:[2];case 1:r=i.sent();try{return o="unknown","unknown"===(o=d(r))&&(o=p(e)),h(o),[2,o]}catch(a){h("unknown")}return[2]}}))}))).apply(this,arguments)}return function(){o.apply(this,arguments)}(),function(){h("unknown")}}),[n,t,e,h])}function g(){return(0,s.Dv)(f)}},76216:function(n,e,t){t.d(e,{T:function(){return a},Z:function(){return i}});var r=t(67294),o=t(35621);function i(){var n=r.useContext(o.Z);if(!n)throw new Error("Expected Repl info to be in context");return n.language}function a(){return i().startsWith("html")}},78241:function(n,e,t){t.d(e,{n:function(){return s}});var r=t(27322),o=t(33346),i=t(13211),a=t(70655);function u(n){return c.apply(this,arguments)}function c(){return(c=(0,i.Z)((function(n){var e,t,r,i;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:e=n.getReader(),a.label=1;case 1:return[4,(0,o.Z)(e.read())];case 2:return t=a.sent(),r=t.done,i=t.value,r?[3,4]:[4,i];case 3:return a.sent(),[3,1];case 4:return e.releaseLock(),[2]}}))}))).apply(this,arguments)}function s(n){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)((function(n){var e,t,i,c,s,l,f,d,p;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:e=new TextDecoder("utf-8"),t=!1,i=!1,a.label=1;case 1:a.trys.push([1,7,8,13]),s=(0,r.Z)(u(n)),a.label=2;case 2:return[4,(0,o.Z)(s.next())];case 3:return(t=!(l=a.sent()).done)?(f=l.value,d=f,[4,e.decode(d,{stream:!0})]):[3,6];case 4:a.sent(),a.label=5;case 5:return t=!1,[3,2];case 6:return[3,13];case 7:return p=a.sent(),i=!0,c=p,[3,13];case 8:return a.trys.push([8,,11,12]),t&&null!=s.return?[4,s.return()]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(i)throw c;return[7];case 12:return[7];case 13:return[2]}}))}))).apply(this,arguments)}},36126:function(n,e,t){var r;t.d(e,{y:function(){return r}}),function(n){n.Welcome="Welcome",n.Editor="Editor",n.Examples="Examples",n.Run="Run",n.Output="Output",n.Sidepane="Sidepane",n.Share="Share",n.SidebarButton="SidebarButton",n.GlobalNavButton="GlobalNavButton",n.NotificationsButton="NotificationsButton",n.AvatarButton="AvatarButton",n.SidebarAnnouncement="SidebarAnnouncement",n.Feedback="Feedback"}(r||(r={}))},79848:function(n,e,t){t.d(e,{bG:function(){return a},gU:function(){return c},pl:function(){return u}});var r=t(55877),o=t.n(r),i=t(53153);function a(n,e){var t={protocolVersion:i.Wj,messageDirection:i.s1.TO_NATIVE,messageId:e,payload:n};"ReactNativeWebView"in window&&null!=window.ReactNativeWebView&&window.ReactNativeWebView.postMessage?window.ReactNativeWebView.postMessage(JSON.stringify(t)):window.postMessage(t,window.origin)}function u(n){var e=null!==n&&void 0!==n?n:o()();a({messageType:i.cF.ERROR},e)}function c(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o()(),e={messageType:i.cF.ACK};a(e,n)}},53153:function(n,e,t){var r,o,i,a;t.d(e,{$l:function(){return y},CF:function(){return A},Fq:function(){return R},H7:function(){return h},I9:function(){return w},MB:function(){return S},Of:function(){return i},Se:function(){return E},T$:function(){return b},Wj:function(){return u},aB:function(){return T},ac:function(){return m},b9:function(){return a},cF:function(){return r},fz:function(){return g},m7:function(){return v},s1:function(){return o}}),function(n){n.ERROR="ERROR",n.ACK="ACK",n.RESET="RESET",n.DEBUG="DEBUG",n.TEXT_EDITOR_CLOSED="TEXT_EDITOR_CLOSED",n.TEXT_EDITOR_STATE="WORKSPACE_STATE",n.TEXT_EDITOR_STATE_REQUEST="WORKSPACE_STATE_REQUEST",n.WORKSPACE_STATE="WORKSPACE_STATE1",n.WORKSPACE_STATE_REQUEST="WORKSPACE_STATE_REQUEST1",n.REQUEST_SET_SELECTION="REQUEST_SET_SELECTION",n.REQUEST_REPLACE_SELECTION="REQUEST_REPLACE_SELECTION",n.REQUEST_SET_TEXT="REQUEST_SET_TEXT",n.REQUEST_INSERT_TEXT="REQUEST_INSERT_TEXT",n.REQUEST_PASTE_TEXT="REQUEST_PASTE_TEXT",n.TEXT_EDITOR_REQUEST_ACTION="TEXT_EDITOR_REQUEST_ACTION",n.WORKSPACE_REQUEST_ACTION="WORKSPACE_REQUEST_ACTION",n.SET_KEYBOARD_STATE="SET_KEYBOARD_STATE",n.SHELL_INSERT_INPUT="SHELL_INSERT_INPUT",n.SHELL_COMMAND="SHELL_COMMAND"}(r||(r={})),function(n){n.FROM_NATIVE="FROM_NATIVE",n.TO_NATIVE="TO_NATIVE"}(o||(o={})),function(n){n.OPEN_FILETREE="OPEN_FILETREE",n.OPEN_NEW_PANE="OPEN_NEW_PANE",n.TOGGLE_DRAWER="TOGGLE_DRAWER",n.TOGGLE_ALLPANES="TOGGLE_ALLPANES",n.TOGGLE_RUN_STATE="TOGGLE_RUN_STATE"}(i||(i={})),function(n){n.REQUEST_UNDO="REQUEST_UNDO",n.REQUEST_REDO="REQUEST_REDO",n.REQUEST_BLUR="REQUEST_BLUR",n.REQUEST_FOCUS="REQUEST_FOCUS",n.REQUEST_INDENT_SELECTION="REQUEST_INDENT_SELECTION",n.REQUEST_DEDENT_SELECTION="REQUEST_DEDENT_SELECTION",n.REQUEST_TOGGLE_COMMENT="REQUEST_TOGGLE_COMMENT",n.REQUEST_ACCEPT_GHOSTWRITER_SUGGESTION="REQUEST_ACCEPT_GHOSTWRITER_SUGGESTION"}(a||(a={}));var u="1";function c(n){return null!==n&&void 0!==n&&"string"===typeof n}function s(n){return c(n)||null===n}function l(n){return null!==n&&void 0!==n&&"boolean"===typeof n}function f(n){return null!=n&&"number"===typeof n&&!Number.isNaN(n)&&Number.isFinite(n)&&Number.isSafeInteger(n)&&n>=0}function d(n){return null!=n&&("object"===typeof n&&null!=n&&("location"in n&&"length"in n&&f(n.location)&&f(n.length)))}function p(n){return null!=n&&(!!Array.isArray(n)&&!!n.every((function(n){return d(n)})))}function h(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"isDrawerOpen"in n&&"isShowingAllPanes"in n&&"isSaving"in n&&"isOffline"in n&&"runState"in n&&"activePaneType"in n&&"activePaneFilePath"in n&&n.messageType===r.WORKSPACE_STATE&&l(n.isDrawerOpen)&&l(n.isShowingAllPanes)&&l(n.isSaving)&&l(n.isOffline)&&c(n.runState)&&s(n.activePaneType)&&s(n.activePaneFilePath)))}function g(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"filePath"in n&&"revisionId"in n&&"text"in n&&n.messageType===r.REQUEST_REPLACE_SELECTION&&c(n.filePath)&&c(n.revisionId)&&c(n.text)))}function E(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"filePath"in n&&"selections"in n&&"revisionId"in n&&n.messageType===r.REQUEST_SET_SELECTION&&c(n.filePath)&&p(n.selections)&&c(n.revisionId)))}function v(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"filePath"in n&&"text"in n&&"selections"in n&&"revisionId"in n&&n.messageType===r.REQUEST_SET_TEXT&&c(n.filePath)&&c(n.text)&&p(n.selections)&&c(n.revisionId)))}function m(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"filePath"in n&&"text"in n&&"insertionRange"in n&&"selections"in n&&"revisionId"in n&&n.messageType===r.REQUEST_INSERT_TEXT&&c(n.filePath)&&c(n.text)&&d(n.insertionRange)&&p(n.selections)&&c(n.revisionId)))}function b(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"filePath"in n&&"text"in n&&"revisionId"in n&&n.messageType===r.REQUEST_PASTE_TEXT&&c(n.filePath)&&c(n.text)&&c(n.revisionId)))}function T(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"revisionId"in n&&"filePath"in n&&"action"in n&&n.messageType===r.TEXT_EDITOR_REQUEST_ACTION&&c(n.revisionId)&&c(n.filePath)&&c(n.action)))}function S(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"action"in n&&n.messageType===r.WORKSPACE_REQUEST_ACTION&&c(n.action)))}function y(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"isShown"in n&&"height"in n&&n.messageType===r.SET_KEYBOARD_STATE&&l(n.isShown)&&function(n){return null!==n&&void 0!==n&&"number"===typeof n}(n.height)))}function w(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"input"in n&&n.messageType===r.SHELL_INSERT_INPUT&&c(n.input)))}function R(n){return null!=n&&("object"===typeof n&&null!=n&&("messageType"in n&&"command"in n&&n.messageType===r.SHELL_COMMAND&&c(n.command)))}function _(n){if(null==n)return!1;if("object"!==typeof n||null==n)return!1;if(!("messageType"in n)||!c(n.messageType))return!1;switch(n.messageType){case r.ERROR:case r.ACK:case r.RESET:return!0;case r.TEXT_EDITOR_CLOSED:return function(n){return null!=n&&"object"===typeof n&&null!=n&&"messageType"in n&&"filePath"in n&&n.messageType===r.TEXT_EDITOR_CLOSED&&c(n.filePath)}(n);case r.TEXT_EDITOR_STATE:case r.TEXT_EDITOR_STATE_REQUEST:case r.WORKSPACE_STATE:case r.WORKSPACE_STATE_REQUEST:return!0;case r.REQUEST_SET_SELECTION:return E(n);case r.REQUEST_SET_TEXT:return v(n);case r.REQUEST_INSERT_TEXT:return m(n);case r.REQUEST_PASTE_TEXT:return b(n);case r.REQUEST_REPLACE_SELECTION:return g(n);case r.TEXT_EDITOR_REQUEST_ACTION:return T(n);case r.WORKSPACE_REQUEST_ACTION:return S(n);case r.SET_KEYBOARD_STATE:return y(n);case r.SHELL_INSERT_INPUT:return w(n);case r.SHELL_COMMAND:return R(n);case r.DEBUG:return function(n){return null!=n&&"object"===typeof n&&null!=n&&"messageType"in n&&"debugMessage"in n&&n.messageType===r.DEBUG&&c(n.debugMessage)}(n);default:return!1}}function A(n){return null!=n&&("object"===typeof n&&null!=n&&("protocolVersion"in n&&"messageDirection"in n&&"messageId"in n&&"payload"in n&&c(n.protocolVersion)&&c(n.messageDirection)&&c(n.messageId)&&_(n.payload)))}},83261:function(n,e,t){t.d(e,{Z:function(){return a}});var r=t(9941),o=t(67294),i={isConnecting:!0,channel:null,error:null,context:null};function a(n){var e=n.container,t=n.service,a=n.name,u=n.skip,c=void 0!==u&&u,s=(0,r.Z)(o.useState(i),2),l=s[0],f=s[1];return o.useEffect((function(){f(i);var n=!1,r=e.openChannel({service:t,name:a,skip:function(){return c}},(function(e){if(!n){if(!e.error)return f({context:e.context,channel:e.channel,error:null,isConnecting:!1}),function(e){n||f({isConnecting:e.willReconnect,channel:null,error:null,context:null})};f({context:e.context,channel:null,error:e.error,isConnecting:!1})}}));return function(){n=!0,r()}}),[e,t,a,c]),l}},52867:function(n,e,t){t.d(e,{Z:function(){return d}});var r=t(34727),o=t(70655),i=t(15519),a=t(50055),u=t(48920),c=t(1672),s=t(21603);function l(n){var e=n.container,t=n.beforeRun,l=function(){var n=function(n){p!==n&&(p=n,f.emit(u.z.STATE_CHANGE,p))};n(d?g?u.A.STOPPING:"none"===h?u.A.IDLE:u.A.RUNNING:u.A.OFFLINE)},f=(0,c.ZP)(),d=null,p=u.A.OFFLINE,h="none",g=!1,E=Math.random();function v(){return(v=(0,r.Z)((function(n){var r,i,a,c,g;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(p!==u.A.IDLE&&p!==u.A.STOPPING)throw new Error("Cannot run while state is not IDLE or STOPPING, got state: "+p);return i=Math.random(),E=i,f.emit(u.z.LOCAL_RUN),h="before-run",l(),a=s.kg.timeStart({replLanguage:null===(r=e.getContext())||void 0===r?void 0:r.repl.language}),[4,t(a,{runId:i.toString(),channelId:null===d||void 0===d?void 0:d.id,type:"shellrunner"})];case 1:if(o.sent(),E!==i)return[2];if("none"===h)return[2];if("server"===h)return[2];if(!d)throw new Error("State is RUNNING but shellrunner is null?");return"open"!==d.status||(h="optimistic",c={},n&&(c.runnerId=n.runner.id,c.filePath=n.filePath),d.send({runMain:c}),g=d.onCommand((function(n){"state"===n.body&&(g(),a("run finished"))}))),[2]}}))}))).apply(this,arguments)}function m(){return(m=(0,r.Z)((function(n){return(0,o.__generator)(this,(function(e){if(p!==u.A.IDLE&&p!==u.A.RUNNING)throw new Error("Can only send input when running or idle");if(!d)throw new Error("State is not OFFLINE but shellrunner is null?");return d.send({input:n}),[2]}))}))).apply(this,arguments)}return e.openChannel({name:"shellrunner",service:"shellrun2",skip:function(n){var e,t=n.repl;return e=t.language,!(!0===i.Z.usesInterpreter(e)||!1!==i.Z.usesRunProject(e))}},(function(n){var e=n.channel;if(!n.error){if(!e)throw new Error("Expected error");return d=e,l(),e.onCommand((function(n){if(null!=n.state){var e=n.state===a.api.State.Stopped;g&&e&&(g=!1),e?"server"===h&&(h="none"):h="server",l()}else null!=n.output?f.emit(u.z.OUTPUT,n.output):n.hint&&f.emit(u.z.OUTPUT,"\r\n\x1b[0m\x1b[33m".concat(n.hint.text,"\x1b[0m\r\n"))})),function(){h="none",g=!1,d=null,l()}}})),{mode:"shellrunner",run:function(n){return v.apply(this,arguments)},stopRun:function(){if(p!==u.A.RUNNING)throw new Error("stopRun must be called when running but got ".concat(p));if(!d)throw new Error("State is RUNNING but shellrunner is null?");if("before-run"===h)return h="none",void l();h="none",g=!0,l(),d.send({clear:{}})},sendInput:function(n){return m.apply(this,arguments)},resizeTerminal:function(n){if(!d)throw new Error("resizeTerminal must be called when online");d.send({resizeTerm:n})},onOutput:function(n){return f.on(u.z.OUTPUT,n),function(){f.removeListener(u.z.OUTPUT,n)}},onLocalRun:function(n){return f.on(u.z.LOCAL_RUN,n),function(){f.removeListener(u.z.LOCAL_RUN,n)}},onStateChanged:function(n){return f.on(u.z.STATE_CHANGE,n),function(){f.removeListener(u.z.STATE_CHANGE,n)}},getRunState:function(){return p}}}var f=t(11887);function d(n){var e=n.container,t=n.beforeRun,i=n.mode,a=void 0===i?"shellrunner":i;if("shellrunner"===a)return l({container:e,beforeRun:t});if("html"===a)return function(n){var e=n.beforeRun,t=n.container,i=function(){(function(n){l!==n&&(l=n,a.emit(u.z.STATE_CHANGE,l))})("none"===d?u.A.IDLE:u.A.RUNNING)},a=(0,c.ZP)(),l=u.A.OFFLINE,d="none",p=Math.random();function h(){return(h=(0,r.Z)((function(){var n,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:if(l!==u.A.IDLE&&l!==u.A.STOPPING)throw new Error("Cannot run while state is not IDLE or STOPPING, got state: "+l);return n=Math.random(),p=n,a.emit(u.z.LOCAL_RUN),d="before-run",i(),t=s.kg.timeStart({replLanguage:"html"}),[4,e(t,{runId:n.toString(),type:"html"})];case 1:return r.sent(),p!==n||"none"===d||(d="running",i(),d="none",i()),[2]}}))}))).apply(this,arguments)}function g(){return(g=(0,r.Z)((function(n){return(0,o.__generator)(this,(function(n){throw new Error("sendInput not implemented for htmlrunner")}))}))).apply(this,arguments)}return t.onConnectionStateChanged((function(n){n===f.em.CONNECTED&&(d="none",i())})),{mode:"html",run:function(){return h.apply(this,arguments)},stopRun:function(){if(l!==u.A.RUNNING)throw new Error("stopRun must be called when running but got ".concat(l));d="none",i()},sendInput:function(n){return g.apply(this,arguments)},resizeTerminal:function(n){throw new Error("resizeTerminal is a no-op in html mode")},onOutput:function(n){throw new Error("onOutput not implemented for htmlrunner")},onStateChanged:function(n){return a.on(u.z.STATE_CHANGE,n),function(){a.removeListener(u.z.STATE_CHANGE,n)}},onLocalRun:function(n){return a.on(u.z.LOCAL_RUN,n),function(){a.removeListener(u.z.LOCAL_RUN,n)}},getRunState:function(){return l}}}({beforeRun:t,container:e});throw new Error("mode not supported: "+a)}},48920:function(n,e,t){var r,o;t.d(e,{A:function(){return o},z:function(){return r}}),function(n){n.STATE_CHANGE="STATE_CHANGE",n.OUTPUT="OUTPUT",n.LOCAL_RUN="RUN"}(r||(r={})),function(n){n.OFFLINE="OFFLINE",n.IDLE="IDLE",n.RUNNING="RUNNING",n.STOPPING="STOPPING"}(o||(o={}))},41671:function(n,e,t){t.d(e,{K:function(){return u}});var r=t(14251),o=t(99408),i=t(67294),a=t(23384);function u(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,o.Z)().userEvents,t=(0,a.D)({controlName:"flag-null-diagnostics"});return(0,i.useCallback)((function(o,i){t&&e.emit(o,(0,r.Z)({},n,i))}),[e,n,t])}},20431:function(n,e,t){t.d(e,{X:function(){return i},z:function(){return a}});var r=t(67294),o=r.createContext(null);function i(){return r.useContext(o)}var a=o.Provider},34385:function(n,e,t){t.d(e,{Z:function(){return i}});var r=t(6899),o=function(){};function i(n){var e=(0,r.e)(n);return e?e.delegateTooltip:o}},6899:function(n,e,t){t.d(e,{e:function(){return i}});var r=t(67294),o=t(20431);function i(n){var e=(0,o.X)(),t=(0,r.useCallback)((function(t){null===e||void 0===e||e.setStepTargetElement(n,t)}),[n,null===e||void 0===e?void 0:e.setStepTargetElement]);return e&&e.steps.some((function(e){return e.id===n}))?{delegateTooltip:t,isActive:!e.isLoading&&!e.isDone&&e.activeStep.id===n,activeStep:e.activeStep,done:e.done,goto:e.goto,id:e.id,isDone:e.isDone,isLoading:e.isLoading,next:e.next,prev:e.prev,restart:e.restart,steps:e.steps}:null}},91759:function(n,e,t){t.d(e,{Z:function(){return w}});var r=t(9941),o=t(35944),i=t(60357),a=t.n(i),u=t(30019),c=t(44781),s=t(6951),l=t(19526),f=t(34193),d=t(81255),p=t(45273),h=t(37806),g=t(14251),E=t(32692),v=t(31230),m=t(37887);function b(){var n=(0,E.Z)(["\n  query BSODComponent {\n    currentUser {\n      id\n      username\n      image\n      isStaff: hasRole(role: REPLIT_STAFF)\n      isAdmin: hasRole(role: ADMIN)\n    }\n  }\n"]);return b=function(){return n},n}var T={},S=(0,v.Ps)(b());var y=function(n){var e,t=n.bsod;return(0,o.tZ)("div",{css:[d.l0.p(16),d.l0.width("100%"),d.l0.backgroundColor.backgroundHigher,d.l0.borderRadius(8),d.l0.overflowY("hidden"),{whiteSpace:"pre"}],children:(0,o.tZ)(l.gC,{spacing:1,children:(0,o.BX)("div",{css:[d.l0.font.code,d.l0.fontSize(12)],children:[(0,o.BX)("div",{children:["Origin: ",t.origin]}),null===(e=t.error.stack)||void 0===e?void 0:e.split("\n").map((function(n,e){return(0,o.tZ)("div",{children:n},e)}))]})})})},w=function(){var n,e,t=function(n){var e=(0,g.Z)({},T,n);return m.a(S,e)}(),i=t.data,E=t.loading,v=(0,r.Z)((0,h.qg)(),1)[0];(0,h.ic)();if(!v)return null;var b=(null===i||void 0===i||null===(n=i.currentUser)||void 0===n?void 0:n.isStaff)||(null===i||void 0===i||null===(e=i.currentUser)||void 0===e?void 0:e.isAdmin);return(0,o.tZ)(f.Z,{width:"medium",isOpen:!0,preventClose:!0,onRequestClose:function(){},children:(0,o.BX)("div",{className:a().dynamic([["52051431ebcedd91",[d.n0]]])+" modal-content",children:[(0,o.BX)(l.gC,{spacing:2,align:"center",children:[(0,o.tZ)(u.Z,{level:2,children:" Your Repl is having a bit of trouble."}),(0,o.tZ)("div",{className:a().dynamic([["52051431ebcedd91",[d.n0]]])+" spacer"}),(0,o.tZ)(c.Z,{size:"large",children:"The issue has been logged and the Replit team will look into it. Try reloading the page to get back to coding."}),(0,o.tZ)("div",{css:[d.l0.p(16),d.l0.width("100%"),d.l0.backgroundColor.backgroundHigher,d.l0.borderRadius(8)],className:a().dynamic([["52051431ebcedd91",[d.n0]]]),children:(0,o.BX)(l.gC,{spacing:1,children:[!E&&(null===i||void 0===i?void 0:i.currentUser)?(0,o.BX)(l.Ug,{spacing:2,align:"center",children:[(0,o.tZ)(p.q,{src:i.currentUser.image,username:i.currentUser.username,size:48}),(0,o.tZ)(c.Z,{size:"medium",children:i.currentUser.username})]}):null,(0,o.BX)("div",{css:[d.l0.font.code],className:a().dynamic([["52051431ebcedd91",[d.n0]]]),children:["Error: ",v.eventId]})]})}),b?(0,o.tZ)(y,{bsod:v}):null,(0,o.tZ)("div",{className:a().dynamic([["52051431ebcedd91",[d.n0]]])+" spacer"}),(0,o.tZ)(s.Z,{onClick:function(){return window.location.reload()},color:"primary",filled:!0,fullWidth:!0,children:"reload"}),!1]}),(0,o.tZ)(a(),{id:"52051431ebcedd91",dynamic:[d.n0],children:".modal-content.__jsx-style-dynamic-selector{padding:var(--space-32)}.sentry-error-embed-wrapper{z-index:".concat(d.n0,"!important}")})]})})}},99808:function(n,e,t){t.d(e,{Z:function(){return u}});var r=t(11163),o=t.n(r),i=t(88710),a=t(25108);function u(n){var e=n.throwBsod,t=n.tags,r=n.extras,u=n.origin,c=n.onNonBsodUnrecoverableError,s=void 0===c?function(){}:c;return function(n){var c=(0,i.Z)(n);c!==i.G.NotFound?c!==i.G.LanguageTokenDenied?c?s(c):(a.error(n),e({error:n,tags:t,extras:r,origin:u})):window.location.reload():o().push("/home","~/")}}},26209:function(n,e,t){t.d(e,{MY:function(){return E},WU:function(){return s},em:function(){return p},fN:function(){return g},j3:function(){return d},mJ:function(){return f},mV:function(){return l}});var r=t(9941),o=(t(21131),t(18172)),i=t(7182),a=t(80086),u=t(67294),c=(0,i.cn)(new Map),s=(0,i.cn)(null,(function(n,e,t){var r=t.messageId,i=t.abortController,a=(0,o.ZP)(n(c),(function(n){n.set(r,i)}));e(c,a)})),l=(0,i.cn)(null,(function(n,e,t){var r=t.messageId,i=(0,o.ZP)(n(c),(function(n){n.delete(r)}));e(c,i)})),f=(0,i.cn)(null,(function(n,e){var t=(0,o.ZP)(n(c),(function(n){var e=!0,t=!1,o=void 0;try{for(var i,a=n.entries()[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var u=(0,r.Z)(i.value,2);u[0];u[1].abort()}}catch(c){t=!0,o=c}finally{try{e||null==a.return||a.return()}finally{if(t)throw o}}n.clear()}));e(c,t)})),d=function(){return(0,i.Dv)(c).size>0},p=function(){return(0,a.lV)((0,u.useCallback)((function(n,e){e(f)}),[]))},h=(0,i.cn)(new Set),g=(0,i.cn)(null,(function(n,e,t){var r=t.message,i=r.id,a=r.loading,u=(0,o.ZP)(n(h),(function(n){a?n.add(i):n.delete(i)}));e(h,u)})),E=function(){return(0,i.Dv)(h).size>0}},6880:function(n,e,t){t.d(e,{Iu:function(){return s},aK:function(){return a},db:function(){return c},gL:function(){return u},v3:function(){return f}});var r=t(58222),o=t(7182),i=t(13731),a=(0,o.cn)(r.Fp),u=(0,o.cn)(null),c=(0,o.cn)(null),s=(0,o.cn)((0,i.Z)()),l=(0,o.cn)(null,(function(n,e,t){var r=t.chatModel,o=t.replId,i=t.currentUser;e(a,r),e(u,o),e(c,i),n(s).resolve(!0)})),f=function(){return(0,o.b9)(l)}},4143:function(n,e,t){t.d(e,{Cd:function(){return d},KI:function(){return s},Og:function(){return l},Oy:function(){return f},YY:function(){return u},wK:function(){return c}});var r=t(14251),o=t(7182),i=t(18172),a=(0,o.cn)({}),u=(0,o.cn)(null,(function(n,e,t){var o=t.id,u=t.debugInfo,c=n(a),s=(0,i.ZP)(c,(function(n){n[o]||(n[o]={}),n[o]=(0,r.Z)({},n[o],u)}));e(a,s)})),c=function(n){var e=n.messageId;return(0,o.Dv)(a)[e]},s=(0,o.cn)(""),l=function(){return(0,o.Dv)(s)},f=(0,o.cn)(""),d=function(){return(0,o.Dv)(f)}},95921:function(n,e,t){t.d(e,{Kz:function(){return u},dp:function(){return f},u0:function(){return s}});var r=t(34727),o=t(70655),i=t(7182),a=(0,i.cn)(""),u=function(){return(0,i.KO)(a)},c=(0,i.cn)(null),s=function(){return(0,i.KO)(c)},l=(0,i.cn)(null,function(){var n=(0,r.Z)((function(n,e){return(0,o.__generator)(this,(function(n){return e(a,""),e(c,null),[2]}))}));return function(e,t){return n.apply(this,arguments)}}()),f=function(){return(0,i.b9)(l)}},14965:function(n,e,t){t.d(e,{Cv:function(){return s},I1:function(){return i},LB:function(){return d},nu:function(){return u},vY:function(){return f}});var r=t(7182),o=(0,r.cn)(null),i=function(){return(0,r.b9)(o)},a=(0,r.cn)([]),u=function(){return(0,r.KO)(a)},c=(0,r.cn)([]),s=function(){return(0,r.KO)(c)},l=(0,r.cn)([]),f=function(){return(0,r.KO)(l)},d=(0,r.cn)((function(n){return{activeFile:n(o),fileContext:n(l)}}))},22274:function(n,e,t){t.d(e,{gm:function(){return y},vY:function(){return w.vY},ZT:function(){return P},zu:function(){return k},Jc:function(){return I},gp:function(){return Z},Og:function(){return p.Og},Cd:function(){return p.Cd},Cv:function(){return w.Cv},ql:function(){return B}});var r=t(27322),o=t(34727),i=t(14251),a=t(52875),u=t(70655),c=t(7182),s=t(71171),l=t.n(s),f=t(90694),d=t(21603),p=t(4143),h=t(69779),g=t(18172),E=t(26209),v=(0,c.cn)([]),m=(0,c.cn)(null,(function(n,e,t){var r=t.message,o=n(v);e(v,(0,h.Z)(o).concat([r]))})),b=(0,c.cn)(null,(function(n,e,t){var r=t.message,o=n(v);e(E.fN,{message:r}),e(v,(0,h.Z)(o).concat([r]))})),T=(0,c.cn)(null,(function(n,e,t){var r=t.message,o=r.id,i=n(v),a=(0,g.ZP)(i,(function(n){var e;for(e=n.length-1;e>=0&&i[e].id!==o;e--);e>=0&&(n[e]=r)}));e(E.fN,{message:r}),e(v,a)})),S=(0,c.cn)(null,(function(n,e,t){var r=t.messageId,o=t.error,i=n(v),a=(0,g.ZP)(i,(function(n){var e=n.find((function(n){return n.id===r}));e&&(e.loading&&(e.text="",e.loading=!1),e.error=o)}));e(v,a)})),y=(0,c.cn)(l()()),w=t(14965),R=t(6880),_=t(60977),A=t(62093),C=t(78241),q=(0,c.cn)(""),I=function(){return(0,c.KO)(q)},k=function(){return(0,c.KO)(v)},N=(0,c.cn)(new Set),x=(0,c.cn)(null,(function(n,e,t){var r=(0,g.ZP)(n(N),(function(n){n.add(t)}));e(N,r)})),O=(0,c.cn)(null,(function(n,e,t){var r=(0,g.ZP)(n(N),(function(n){n.delete(t)}));e(N,r)})),L=(0,c.cn)((function(n){return n(N).size>0})),Z=function(){return(0,c.KO)(L)};function U(n){return{user:n.attribution,message:n.text}}var D=(0,c.cn)(null,function(){var n=(0,o.Z)((function(n,e){return(0,u.__generator)(this,(function(n){return e(E.mJ),e(v,[]),e(y,l()()),(0,_.j)(_.U3.GHOSTWRITER_CHAT_CLEARED),[2]}))}));return function(e,t){return n.apply(this,arguments)}}()),P=function(){return(0,c.b9)(D)},F=(0,c.cn)(null,function(){var n=(0,o.Z)((function(n,e,t){var o,c,s,h,g,q,I,k,N,L,Z,D,P,F,B,j,z,G,K,M,Q,X,W,H,V,Y,J,$;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return o=t.type,c=t.text,o=null!==o&&void 0!==o?o:f.NK.Chat,(0,_.j)(_.U3.GHOSTWRITER_CHAT_MESSAGE_SENT,{type:o}),s=c.trim(),[4,n(R.Iu).promise];case 1:if(u.sent(),!(h=n(R.db)))return[2];g=n(y),q=n(v),I=n(R.aK),k=n(R.gL),N=n(w.LB),L=l()(),e(x,L),Z={id:L,type:o,text:s,author:{username:h.username,image:h.image},attribution:"Human"},e(m,{message:Z}),D=l()(),e(b,{message:P={id:D,type:o,loading:!0,text:"Please wait while I think through your request\u2026",author:{username:"Ghostwriter",image:"/public/images/ghostwriter/blurple-circle.svg"},attribution:"Assistant"}}),F=new AbortController,e(E.WU,{messageId:D,abortController:F}),u.label=2;case 2:return u.trys.push([2,16,17,18]),e(A.Et,!0),B=q.filter((function(n){return!n.loading&&!n.error})).map(U),j=performance.now(),z=void 0,0===N.fileContext.length&&d.kg.warn("No file context passed to ghostwriter chat",{replid:k,chatId:g,messageId:D,chatInputType:o,activeFile:N.activeFile}),[4,fetch("/ai/chat2",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({chatHistory:B,message:{type:o,text:c},model:I,replId:k,chatId:g,context:N}),signal:F.signal})];case 3:if(200!==(G=u.sent()).status)throw new Error("Request failed");if(!G.body)throw new Error("Expected body on response object");K="",M=!1,Q=!1,u.label=4;case 4:u.trys.push([4,9,10,15]),W=function(){var n=V.value;n.trim().split("\n\n").map((function(n){return JSON.parse(n)})).forEach((function(t){if(t.type===f.xA.Debug){var r=t;e(p.KI,r.fullPrompt),e(p.YY,{id:D,debugInfo:{fullPrompt:r.fullPrompt}}),e(p.YY,{id:D,debugInfo:{fileContext:N}})}if(t.type===f.xA.Error)throw d.kg.error("ghostwriter chat client response stream error",{replid:k,chatId:g,chatModel:I,messageId:D,originalResponse:n}),new Error("Sorry, I had an issue generating the response.");if(t.type===f.xA.Response){z||(z=performance.now()-j,d.kg.time("ghostwriter chat time to first stream",z,{replid:k,chatId:g,chatModel:I,messageId:D}),e(p.YY,{id:D,debugInfo:{timeToFirstStream:z}}));var i=t;null!==i.stopReason&&(e(p.Oy,i.stopReason),e(p.YY,{id:D,debugInfo:{stopReason:i.stopReason}}),i.stopReason===f.tD.MaxTokens&&d.kg.info("ghostwriter chat client response stop max tokens",{replid:k,chatId:g,chatModel:I,messageId:D,inferenceId:i.id})),K+=i.data,P={id:D,type:null!==o&&void 0!==o?o:f.NK.Chat,text:K,author:{username:"Ghostwriter",image:"/public/images/ghostwriter/blurple-circle.svg"},attribution:"Assistant",inferenceId:i.id},e(T,{message:P})}}))},H=(0,r.Z)((0,C.n)(G.body)),u.label=5;case 5:return[4,H.next()];case 6:if(!(M=!(V=u.sent()).done))return[3,8];W(),u.label=7;case 7:return M=!1,[3,5];case 8:return[3,15];case 9:return Y=u.sent(),Q=!0,X=Y,[3,15];case 10:return u.trys.push([10,,13,14]),M&&null!=H.return?[4,H.return()]:[3,12];case 11:u.sent(),u.label=12;case 12:return[3,14];case 13:if(Q)throw X;return[7];case 14:return[7];case 15:return[3,18];case 16:return J=u.sent(),e(A.Et,!1),"AbortError"===J.name?(e(T,{message:(0,a.Z)((0,i.Z)({},P),{aborted:!0})}),[2]):(e(S,{messageId:D,error:"Sorry, I had an issue generating the response."}),d.kg.error("ghostwriter chat client response error",{replid:k,chatId:g,chatModel:I,messageId:D,originalError:null!==($=null===J||void 0===J?void 0:J.message)&&void 0!==$?$:J}),[3,18]);case 17:return e(O,L),e(E.mV,{messageId:D}),[7];case 18:return[2]}}))}));return function(e,t,r){return n.apply(this,arguments)}}()),B=function(){return(0,c.b9)(F)}},62093:function(n,e,t){t.d(e,{Et:function(){return o},Z9:function(){return u},Z_:function(){return i},rM:function(){return c}});var r=t(7182),o=(0,r.cn)(!1),i=function(){return(0,r.KO)(o)},a=(0,r.cn)(!1),u=function(){return(0,r.KO)(a)},c=function(){return(0,r.b9)(a)}},41302:function(n,e,t){t.d(e,{d:function(){return f}});var r=t(23384),o=t(14251),i=t(32692),a=t(31230),u=t(37887);function c(){var n=(0,i.Z)(["\n  query GhostwriterChatStatusHook {\n    currentUser {\n      id\n      userPowerUpsByType {\n        __typename\n        ... on UserPowerUpsTypes {\n          ghostwriter {\n            active\n          }\n        }\n      }\n    }\n  }\n"]);return c=function(){return n},n}var s={},l=(0,a.Ps)(c());var f=function(){var n,e=(0,r.D)({controlName:"flag-ghostwriter-chat-ext"}),t=(0,r.D)({controlName:"flag-ghostwriter-chat-beta"}),i=function(n){var e=(0,o.Z)({},s,n);return u.a(l,e)}().data,a="UserPowerUpsTypes"===(null===i||void 0===i||null===(n=i.currentUser)||void 0===n?void 0:n.userPowerUpsByType.__typename)&&i.currentUser.userPowerUpsByType.ghostwriter.active;return e||t&&a}},48386:function(n,e,t){t.d(e,{Z:function(){return c}});var r=t(35944),o=t(60357),i=t.n(o),a=t(59641),u=t(57704),c=function(n){var e=n.onClick;return(0,r.tZ)(a.u,{tooltip:"Clear",placement:"bottom-start",children:(0,r.BX)("button",{"aria-label":"Clear",onClick:e,css:a.l0.focusRing,className:"jsx-fba03c32cb6e41ee",children:[(0,r.tZ)(u.Z,{size:16}),(0,r.tZ)(i(),{id:"fba03c32cb6e41ee",children:"button.jsx-fba03c32cb6e41ee{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-4);background-color:var(--background-root);color:var(--foreground-default);-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s;border:none;cursor:pointer}button.jsx-fba03c32cb6e41ee:hover{background-color:var(--background-higher)}button.jsx-fba03c32cb6e41ee:focus{outline:none}"})]})})}},91202:function(n,e,t){t.d(e,{l:function(){return c}});var r=t(35944),o=t(60357),i=t.n(o),a=t(59641),u=t(87653),c=function(n){var e=n.onClick;return(0,r.tZ)(a.u,{tooltip:"Search",placement:"bottom-start",children:(0,r.BX)("button",{"aria-label":"Search",onClick:e,css:a.l0.focusRing,className:"jsx-fba03c32cb6e41ee",children:[(0,r.tZ)(u.Z,{size:16}),(0,r.tZ)(i(),{id:"fba03c32cb6e41ee",children:"button.jsx-fba03c32cb6e41ee{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-4);background-color:var(--background-root);color:var(--foreground-default);-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s;border:none;cursor:pointer}button.jsx-fba03c32cb6e41ee:hover{background-color:var(--background-higher)}button.jsx-fba03c32cb6e41ee:focus{outline:none}"})]})})}},29672:function(n,e,t){t.d(e,{R:function(){return s}});var r=t(35944),o=t(60357),i=t.n(o),a=t(59641),u=t(6951),c=t(67294);function s(n){var e=n.findNext,t=n.findPrevious,o=n.exit,s=(0,c.useRef)(null),l=(0,c.useState)(""),f=l[0],d=l[1];(0,c.useEffect)((function(){s.current&&s.current.focus()}),[]);return(0,r.BX)("div",{className:"jsx-d22d76e8545c71ca search",children:[(0,r.tZ)("input",{ref:s,placeholder:"Find",value:f,onChange:function(n){return d(n.target.value)},onKeyDown:function(n){return function(n){"Escape"!==n.key?"Enter"===n.key&&(n.shiftKey?t(f):e(f)):o()}(n)},css:[a.l0.focusRing],className:"jsx-d22d76e8545c71ca"}),(0,r.tZ)(u.Z,{size:"small",onClick:function(){return e(f)},children:"Next"}),(0,r.tZ)(u.Z,{size:"small",onClick:function(){return t(f)},children:"Previous"}),(0,r.tZ)(u.Z,{size:"small",onClick:o,children:"Exit"}),(0,r.tZ)(i(),{id:"d22d76e8545c71ca",children:".search.jsx-d22d76e8545c71ca{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:30px}input.jsx-d22d76e8545c71ca{padding:4px var(--space-8)var(--space-4);background-color:var(--background-default);color:var(--white);height:24px;width:85px;border:none;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}input.jsx-d22d76e8545c71ca::-webkit-input-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca:-moz-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca::-moz-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca:-ms-input-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca::-ms-input-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca::placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca:focus{outline:none;border:var(--accent-primary-default)}input.jsx-d22d76e8545c71ca,.search button{margin:0 var(--space-4)}"})]})}},39348:function(n,e,t){t.d(e,{Z:function(){return M}});var r,o=t(9941),i=t(35944),a=t(67294),u=t(59641),c=t(10129),s=t(11089),l=t(70917),f=t(50055),d=t(10449),p=t(48920);function h(n,e){var t,o;switch(n){case r.Init:t="5%",o="Loading...";break;case r.Booting:o="Booting Repl",t="20%";break;case r.LoadingFiles:o="Downloading files",t="".concat(Math.floor(20+70*e).toString(),"%");break;case r.Ready:o="Ready",t="100%";break;default:(0,d.Z)(n)}return{percentString:t,message:o}}!function(n){n.Init="Init",n.Booting="Booting",n.LoadingFiles="LoadingFiles",n.Ready="Ready"}(r||(r={}));var g=(0,l.F4)({"0%":{opacity:0,top:0},"100%":{opacity:1,top:"-25px"}});function E(n){var e=n.onBootStatus,t=n.initialRunState,o=(0,a.useState)({current:t===p.A.OFFLINE?r.Init:r.Ready,previous:null}),u=o[0],c=o[1],s=(0,a.useState)(0),l=s[0],d=s[1];(0,a.useEffect)((function(){var n=0,t=0,o=null,i=null,a=function(){n=0,t=0,o=null,i&&(clearInterval(i),i=null)},u=e((function(e){var u;switch(function(e){var r=e.stage,u=e.progress,c=e.total;if(i&&clearInterval(i),r!==f.api.BootStatus.Stage.PULL_FILES&&r!==f.api.BootStatus.Stage.LOAD_BLOCK||!c)return a(),void d(0);if(!(n>u)&&t!==u){var s=Date.now(),l=0;l=o?(u-t)/(s-o)*50:5e4,o=s,t=u,i=setInterval((function(){(n+=l)>c&&(n=c),n=Math.max(n,u),d(n/c)}),50)}}(e),e.stage){case f.api.BootStatus.Stage.ACQUIRING:u=r.Booting;break;case f.api.BootStatus.Stage.PULL_FILES:case f.api.BootStatus.Stage.LOAD_BLOCK:u=r.LoadingFiles;break;case f.api.BootStatus.Stage.COMPLETE:u=r.Ready;break;default:return}c((function(n){return n.current===u?n:{current:u,previous:n.current}}))}));return function(){a(),u()}}),[e]);var E=u.previous?h(u.previous,1):null,v=h(u.current,l);return(0,i.BX)("div",{css:{position:"absolute",left:"25%",right:"25%",top:"45%",backgroundColor:"transparent",color:"white",transition:"all 1s 0.5s",opacity:u.current===r.Ready?0:1},children:[(0,i.BX)("div",{children:[E?(0,i.BX)("div",{css:{textAlign:"center",position:"absolute",width:"100%",top:"-100px",opacity:0,transition:"top 0.4s, opacity 0.4s"},children:[E.message,u.previous===r.LoadingFiles&&" 100%"]},E.message):null,(0,i.BX)("div",{css:{textAlign:"center",position:"absolute",width:"100%",top:"-25px",opacity:1,animationName:g.toString(),animationDuration:"0.6s"},children:[v.message,u.current===r.LoadingFiles&&" ".concat(v.percentString)]},v.message)]}),(0,i.tZ)("div",{css:{background:"none",border:"solid white 1px",borderRadius:"10px"},children:(0,i.tZ)("div",{css:{height:"5px",width:v.percentString,backgroundColor:"#fff",transition:"width cubic-bezier(0.28, 0.26, 0.33, 1) 2s"}})})]})}var v=t(84563);var m=t(29672),b=t(91202),T=t(48386),S=t(34385),y=t(36126),w=t(34140),R=t(43186),_=t(34727),A=t(70655),C=t(95921),q=t(21603),I=/(((\w+Error)|(Error)): (.*)\r\n((?:\s+at .*\r\n)+))|(\/home\/runner(.*):\d+\r\n[\s\S]*((\w+Error)|(Error)): (.*)\r\n)/g,k=/(Traceback.*\r\n)?( +File.*(\r\n.*){1,2})*\r\n.*((\wError:)|(Exception:)).*/g,N=/(\x1b\[(.*?)m)/g;var x=t(16568),O=t(41302);function L(n){var e=n.runner,t=(0,x.R$)(),r=(0,a.useState)(p.A.IDLE),i=r[0],u=r[1],c=(0,o.Z)((0,C.u0)(),2),s=c[0],l=c[1],f=(0,C.dp)(),d=(0,o.Z)((0,C.Kz)(),2),h=d[0],g=d[1],E=(0,O.d)(),v=(0,a.useCallback)(function(){var n=(0,_.Z)((function(n){return(0,A.__generator)(this,(function(e){return"unknown"===t||g((function(e){return(e+n).slice(-5e3)})),[2]}))}));return function(e){return n.apply(this,arguments)}}(),[t,g]),m=(0,a.useCallback)((function(n){"unknown"!==t&&n!==i&&(u(n),n!==p.A.RUNNING||f())}),[f,t,i]);return(0,a.useEffect)((function(){var n=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown";return"nodejs"===e?null!==n.match(I):"python3"===e&&null!==n.match(k)}(h,t);if(n){var e=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown";if("unknown"===e)return q.kg.error("Ghostwriter Chat Debugger cannot parse error and stack trace for unknown interpreter"),"";var t=n.replace(N,""),r=null;return"nodejs"===e?r=t.match(I):"python3"===e?r=t.match(k):(q.kg.error("Ghostwriter Chat Debugger invalid interpreter"),new Error("Ghostwriter Chat debugger invalid interpreter")),r?r[r.length-1]:(q.kg.error("Ghostwriter Chat Debugger had no error - this should not have happened",{errorBuffer:n,interpreter:e}),"")}(h,t);l(e)}}),[h,t,l]),(0,a.useEffect)((function(){if(E&&"shellrunner"===e.mode){var n=[e.onOutput(v),e.onStateChanged(m)];return function(){n.forEach((function(n){return n()}))}}}),[E,e,v,m]),{hasAccessToChatDebugger:E,parsedError:s,clearDebug:f}}var Z=t(85873),U=t(60482),D=t(22274),P=t(90694),F=t(15902),B=t(19613),j=t(72092),z=(0,l.iv)([u.l0.flex.row,u.l0.align.center,u.l0.justify.end,u.l0.position.absolute,u.l0.top(8),u.l0.right(8),u.l0.minHeight(30),{opacity:"0",zIndex:100}]),G=(0,l.iv)([u.l0.flex.row,u.l0.align.center,u.l0.justify.end,u.l0.position.absolute,u.l0.pl(8),u.l0.bottom(8),u.l0.right(8),u.l0.minHeight(30),{zIndex:100}]),K=function(n,e){var t=n.tracker,r=n.runner,l=n.debugClient,f=n.packager,d=n.onBootStatus,h=(0,o.Z)(function(n){var e=n.tracker,t=n.runner,r=n.debugClient,i=n.packager,u=(0,o.Z)((0,s.Z)(),2),c=u[0],l=u[1],f=(0,a.useState)(""),d=f[0],h=f[1],g=e||function(){};return(0,a.useEffect)((function(){if(!c)return t.onOutput((function(n){return h((function(e){return e+n}))}))}),[c,t,h]),(0,a.useEffect)((function(){if(!c&&i)return i.onOutput((function(n){return h((function(e){return e+n.replace(/\n/g,"\n\r")}))}))}),[c,i,h]),(0,a.useEffect)((function(){var n=function(n){if(!c)throw new Error("Expected xterm");c.write(n.replace(/\n/g,"\n\r"))};if(c&&i){var e=i.onOutput((function(e){n(e)})),t=i.onError((function(){return n("\x1b[31m\n\nReplit: Package operation failed.\x1b[00m")})),r=i.onStateChanged((function(e){e&&n("\n\nReplit: Updating package configuration\n\n")}));return function(){e(),t(),r()}}}),[c,i]),(0,a.useEffect)((function(){d&&c&&(g("user:run:output",{bufferedOutput:d}),c.write(d),h(""))}),[c,d]),(0,a.useEffect)((function(){if(c){var n=function(){t.getRunState()!==p.A.OFFLINE&&t.resizeTerminal(c.getSize())},e=[];e.push(c.onResize(n).dispose);var o=[];e.push(c.onData((function(n){var e=(0,v.I)(n);"running"!==(null===r||void 0===r?void 0:r.state.current)?t.getRunState()!==p.A.OFFLINE?t.sendInput(e):o.push(e):r.sendInput(e)})).dispose),e.push(t.onOutput((function(n){g("user:run:output",{output:n}),c.write(n)})));var i=!1;return e.push(t.onStateChanged((function(e){if(e!==p.A.OFFLINE){if(i||(n(),i=!0),o.length){var r=!0,a=!1,u=void 0;try{for(var c,s=o[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var l=c.value;t.sendInput(l)}}catch(f){a=!0,u=f}finally{try{r||null==s.return||s.return()}finally{if(a)throw u}}o=[]}}else i=!1}))),t.getRunState()!==p.A.OFFLINE&&(n(),i=!0),function(){e.forEach((function(n){return n()}))}}}),[c,t,r]),[c,l,h]}({tracker:t,runner:r,debugClient:l,packager:f}),3),g=h[0],_=h[1],A=h[2],C=(0,o.Z)(a.useState(!1),2),q=C[0],I=C[1],k=L({runner:r}),N=k.hasAccessToChatDebugger,x=k.parsedError,O=k.clearDebug,K=(0,F.T3)(),M=N&&!K&&Boolean(x),Q=(0,U.dK)(),X=(0,D.ql)();a.useEffect((function(){return function(){O()}}),[O]);var W=(0,R.Z)().preferences.accessibleTerminal,H=(0,s.a)();a.useImperativeHandle(e,(function(){return{write:function(n){g?g.write(n):A((function(e){return e+n.replace(/\n/g,"\n\r")}))},clear:function(){g&&g.clear()},focus:function(){g&&g.focus()}}}));var V=(0,S.Z)(y.y.Output);return(0,i.BX)(u.G7,{css:[j.EA.container,H],onKeyDown:function(n){"f"===n.key&&(0,c.jh)(n)&&!n.shiftKey&&(I(!0),n.preventDefault())},innerRef:V,children:[(0,i.BX)(u.G7,{css:z,className:"controls",children:[q&&g?(0,i.tZ)(m.R,{findPrevious:g.findPrevious,findNext:g.findNext,exit:function(){return I(!1)}}):(0,i.tZ)(b.l,{onClick:function(){return I(!0)}}),(0,i.tZ)(T.Z,{onClick:function(){g&&(g.clear(),g.focus(),O())}})]}),M?(0,i.tZ)(u.G7,{css:G,children:(0,i.tZ)(u.uj,{icon:(0,i.tZ)(Z.Z,{}),text:"Code error detected. Debug with Ghostwriter?",colorway:"blurple",closable:!0,closeAction:function(){O()},onClick:function(){x&&(Q({type:"ghostwriterChat"}),X({text:(0,B.Vh)(x),type:P.NK.Debugger}),O())}})}):null,W?null:(0,i.tZ)(w.T,{children:'Enable "Accessible Terminal" in Workspace Settings to use a screen reader with the console.'}),(0,i.tZ)(u.G7,{css:K?j.EA.xterm:j.EA.xtermWithBorderRadius,innerRef:_}),d?(0,i.tZ)(E,{initialRunState:r.getRunState(),onBootStatus:d}):null]})},M=a.forwardRef(K)},72092:function(n,e,t){t.d(e,{N2:function(){return k},St:function(){return C},EA:function(){return I}});var r=t(9941),o=t(35944),i=t(67294),a=t(70917),u=t(29672),c=t(91202),s=t(48386),l=t(10129),f=t(34140),d=t(43186),p=t(11089),h=t(59641),g=t(15902),E=t(68944),v=t(83261),m=t(60977),b=t(84563),T=t(34727),S=t(70655),y=t(11163),w=t(53153),R=t(79848);function _(n){var e=n.sendInput,t=(0,y.useRouter)(),r=(0,g.Vg)(t);(0,i.useEffect)((function(){if(r){var n=function(n){var t=n.payload;if((0,w.I9)(t))!function(n,t){e(t)?(0,R.gU)(n.messageId):(0,R.pl)(n.messageId)}(n,t.input);else if((0,w.Fq)(t))if("unknown"===t.command);else(0,R.pl)(n.messageId);else(0,R.pl)(n.messageId)},t=function(){var e=(0,T.Z)((function(e){var t;return(0,S.__generator)(this,(function(r){try{if(t=e.data,!(0,w.CF)(t))return[2];if(t.protocolVersion!==w.Wj)return[2];switch(t.payload.messageType){case w.cF.ERROR:case w.cF.ACK:case w.cF.RESET:case w.cF.DEBUG:case w.cF.WORKSPACE_STATE:case w.cF.WORKSPACE_STATE_REQUEST:case w.cF.WORKSPACE_REQUEST_ACTION:case w.cF.SET_KEYBOARD_STATE:case w.cF.TEXT_EDITOR_STATE:case w.cF.TEXT_EDITOR_CLOSED:case w.cF.TEXT_EDITOR_STATE_REQUEST:case w.cF.REQUEST_SET_SELECTION:case w.cF.REQUEST_REPLACE_SELECTION:case w.cF.REQUEST_SET_TEXT:case w.cF.REQUEST_INSERT_TEXT:case w.cF.REQUEST_PASTE_TEXT:case w.cF.TEXT_EDITOR_REQUEST_ACTION:break;case w.cF.SHELL_INSERT_INPUT:case w.cF.SHELL_COMMAND:n(t);break;default:throw new Error("Unknown BridgeMessageType.")}}catch(o){throw new Error("Invalid message: ".concat(o))}return[2]}))}));return function(n){return e.apply(this,arguments)}}();return window.addEventListener("message",t),function(){window.removeEventListener("message",t)}}}),[r,e])}var A=t(41671);function C(n){var e,t=n.autoFocus,o=n.onShellKey,a=n.container,u=(0,r.Z)((0,p.Z)(),2),c=u[0],s=u[1],l=(0,v.Z)({service:"shell",container:a}),f=(0,A.K)({channelId:null===l||void 0===l||null===(e=l.channel)||void 0===e?void 0:e.id}),d="",h="",g="",T=i.useCallback((function(n){if(!l.channel||!c)return!1;var e=a.client();if(!l.channel||"open"!==l.channel.status||e.connectionState!==E.em.CONNECTED)return!1;var t=(0,b.I)(n);return l.channel.send({input:t}),!0}),[c,l,a]);return _({sendInput:T}),i.useEffect((function(){if(l.channel&&c&&"open"===l.channel.status){var n=c.onKey((function(n){var e=n.key,t=n.domEvent;if("\r"===e){(0,m.j)(m.U3.SHELL_COMMAND_EVALED);var r=h;h.endsWith(d)&&d.length>0&&(r=h.slice(0,-d.length)),f("user:shell:output:clean",{output:r,command:g}),f("user:shell:exec",{command:d}),f("user:shell:output",{output:h}),g=d,d="",h=""}else d+=e;o&&o(t)})),e=a.client(),t=c.onData((function(n){T(n)}));l.channel.onCommand((function(n){n.hint?c.write("\x1b[0m\x1b[33m".concat(n.hint.text,"\x1b[0m\r\n")):n.output&&(c.write(n.output),h+=n.output)}));var r=function(){l.channel&&"open"===l.channel.status&&e.connectionState===E.em.CONNECTED&&l.channel.send({resizeTerm:c.getSize()})},i=c.onResize(r);return r(),function(){n.dispose(),t.dispose(),i.dispose()}}}),[l.channel,c,o,a,T]),i.useEffect((function(){t&&c&&c.focus()}),[t,c]),[c,s]}var q=(0,a.iv)([h.l0.height("100%"),h.l0.overflow("hidden"),{"& .xterm":[h.l0.pl(8),h.l0.pt(8),h.l0.pb(4),h.l0.height("100%")]}]),I=(0,h.Xb)({container:[h.l0.coverContainer,{"&:focus-within .controls":{opacity:1}}],xterm:q,xtermWithBorderRadius:[q,{"& .xterm-viewport":[h.l0.borderRadius(0,0,8,8)]}]});function k(n){var e=n.shell,t=n.shellRef,a=n.className,E=(0,d.Z)().preferences.accessibleTerminal,v=(0,r.Z)(i.useState(!1),2),m=v[0],b=v[1],T=m&&e?(0,o.tZ)(u.R,{findPrevious:e.findPrevious,findNext:e.findNext,exit:function(){return b(!1)}}):(0,o.tZ)(c.l,{onClick:function(){return b(!0)}}),S=(0,p.a)(),y=(0,g.T3)();return(0,o.BX)(h.G7,{className:a,css:[I.container,S],onKeyDown:function(n){"f"===n.key&&(0,l.jh)(n)&&(b(!0),n.preventDefault())},children:[!E&&(0,o.tZ)(f.T,{children:'Enable "Accessible Terminal" in Workspace Settings to use a screen reader with the shell.'}),(0,o.tZ)(h.G7,{css:y?I.xterm:I.xtermWithBorderRadius,innerRef:t}),e?(0,o.BX)(h.G7,{className:"controls",css:[h.l0.position.absolute,h.l0.flex.row,h.l0.top(8),h.l0.right(8),h.l0.height(30),h.l0.align.center,{opacity:0,zIndex:4}],children:[T,(0,o.tZ)(s.Z,{onClick:e.clear})]}):(0,o.tZ)("code",{css:[h.l0.color.foregroundDimmest,h.l0.coverContainer,h.l0.p(8)],children:"Loading..."})]})}},11089:function(n,e,t){t.d(e,{Z:function(){return U},a:function(){return l.a}});var r=t(34727),o=t(9941),i=t(70655),a=t(67294),u=t(64487),c=t(96189),s=t(79500),l=t(26020),f="replit-icons-font";function d(){if(!document.getElementById(f)){var n=document.createElement("style");n.id=f,n.type="text/css",n.appendChild(document.createTextNode("\n@font-face {\n  font-family: 'replit-icons';\n  font-style: normal;\n  font-weight: normal;\n  font-stretch: normal;\n  src: url(".concat("/public/fonts/replit-icons.woff",") format('woff'),\n    url(").concat("/public/fonts/replit-icons.ttf",") format('truetype');\n}"))),document.head.appendChild(n)}}var p="BESbswy",h=3e3;function g(n){return E.apply(this,arguments)}function E(){return(E=(0,r.Z)((function(n){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return document.fonts?[4,m(document.fonts,n)]:[3,2];case 1:case 3:return e.sent(),[2];case 2:return[4,Promise.all([T("serif",n),T("sans-serif",n),T("monospace",n)])]}}))}))).apply(this,arguments)}function v(n){var e=n.family,t=n.style,r=void 0===t?"normal":t,o=n.weight,i=void 0===o?"normal":o;return"".concat(r," ").concat(i," 100px ").concat(e)}function m(n,e){return b.apply(this,arguments)}function b(){return(b=(0,r.Z)((function(n,e){var t,r,o,a,u,c;return(0,i.__generator)(this,(function(i){return t=e.fontInfo,r=e.characters,o=void 0===r?p:r,a=e.timeout,u=void 0===a?h:a,c=v(t),[2,new Promise((function(e,t){var r=!1,i=setTimeout((function(){r=!0,t(new Error("Font loading timed out"))}),u);n.load(c,o).then((function(){r||(clearTimeout(i),e())})).catch((function(n){r||(clearTimeout(i),t(n))}))}))]}))}))).apply(this,arguments)}function T(n,e){return S.apply(this,arguments)}function S(){return(S=(0,r.Z)((function(n,e){var t,r,o,a,u,c,s,l,f;return(0,i.__generator)(this,(function(i){return t=e.fontInfo,r=e.characters,o=void 0===r?p:r,a=e.timeout,u=void 0===a?h:a,c=v(t),(s=document.createElement("span")).innerText=o,s.style.font="normal normal 100px ".concat(n),s.style.position="absolute",s.style.left="-9999px",s.style.top="-9999px",document.body.appendChild(s),l=s.offsetWidth,s.style.font=c,(f=function(){return l!==s.offsetWidth})()?[2]:[2,new Promise((function(n,e){var r=setInterval((function(){f()&&(clearInterval(r),clearTimeout(o),document.body.removeChild(s),n())}),50),o=setTimeout((function(){clearInterval(r),document.body.removeChild(s),f()?n():e(new Error("Font loading timed out "+t.family))}),u)}))]}))}))).apply(this,arguments)}function y(n){u.Tb(n)}var w='"ReplitHack"',R=400,_=700,A=String.fromCharCode(61095);function C(){return q.apply(this,arguments)}function q(){return(q=(0,r.Z)((function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return d(),[4,Promise.all([g({fontInfo:{family:"replit-icons"},characters:A}).catch(y),g({fontInfo:{family:w,weight:R.toString()}}).catch(y),g({fontInfo:{family:w,weight:R.toString(),style:"italic"}}).catch(y),g({fontInfo:{family:w,weight:_.toString()}}).catch(y),g({fontInfo:{family:w,weight:_.toString(),style:"italic"}}).catch(y)])];case 1:return n.sent(),[2]}}))}))).apply(this,arguments)}var I,k=t(93096);var N=t.n(k)()((function(){if("undefined"!==typeof AudioContext){var n=(I||(I=new AudioContext),I),e=n.createBufferSource();n.decodeAudioData(function(n){for(var e=window.atob(n),t=e.length,r=new Uint8Array(t),o=0;o<t;o++)r[o]=e.charCodeAt(o);return r.buffer}("SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),(function(t){e.buffer=t,e.connect(n.destination),e.start(0)}))}}),500,{leading:!0,trailing:!0}),x=t(43186),O=t(2858),L=t(16965);function Z(){return Promise.all([t.e(6142).then(t.t.bind(t,12320,23)),t.e(2617).then(t.t.bind(t,12617,23)),t.e(747).then(t.t.bind(t,747,23)),t.e(7511).then(t.t.bind(t,67511,23)),t.e(2993).then(t.t.bind(t,32993,23)),t.e(2510).then(t.bind(t,82510)),t.e(9421).then(t.t.bind(t,9421,23))])}function U(){var n=(0,a.useState)(null),e=n[0],u=n[1],s=(0,a.useState)(null),f=s[0],d=s[1],p=(0,l.f)(),h={screenReaderMode:(0,x.Z)().preferences.accessibleTerminal,fileLinking:function(){var n=(0,a.useContext)(O.Z);return(0,a.useMemo)((function(){return n?{listFiles:n.fs.listFiles,openFile:n.session.openFile}:null}),[n])}(),terminalTheme:p},g=(0,L.Z)(h),E=(0,c.Z)((function(){return null===f||void 0===f?void 0:f.fit()}),{type:"debounce",wait:200}),v=(0,a.useRef)(null);return(0,a.useLayoutEffect)((function(){if(e){var n=[];return function(){t.apply(this,arguments)}(),function(){n.forEach((function(n){return n()}))}}function t(){return t=(0,r.Z)((function(){var t,r,a,u,c,s,l,f,p,h,m,b,T,S,y,A;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([Z(),C()])];case 1:return t=o.Z.apply(void 0,[i.sent(),1]),r=(0,o.Z)(t[0],7),a=r[0].Terminal,u=r[1].FitAddon,c=r[2].SearchAddon,s=r[3].WebLinksAddon,l=r[4].Unicode11Addon,f=r[5].FileLinkAddon,p=r[6].CanvasAddon,e?(h=new a({allowProposedApi:!0,cursorBlink:!1,scrollback:1e3,tabStopWidth:4,fontFamily:"".concat(w,', replit-icons, Monaco, "Ubuntu Mono", Consolas, monospace'),fontSize:14,lineHeight:1,fontWeight:R,fontWeightBold:_,drawBoldTextInBrightColors:!1,minimumContrastRatio:4.5,theme:g.current.terminalTheme,screenReaderMode:g.current.screenReaderMode}),g.current.fileLinking?(v.current=new f(g.current.fileLinking.openFile,g.current.fileLinking.listFiles),h.loadAddon(v.current)):v.current=null,m=new u,h.loadAddon(m),b=new s,h.loadAddon(b),T=new c,h.loadAddon(T),S=new l,h.loadAddon(S),h.unicode.activeVersion="11",h.onBell(N),h.open(e),n.push((function(){return h.dispose()})),y=new p,h.loadAddon(y),h.attachCustomKeyEventHandler((function(n){return D(h,n)})),A=!1,h.attachCustomKeyEventHandler((function(n){return"shift"===n.key.toLowerCase()||"ctrl"===n.key.toLowerCase()||"alt"===n.key.toLowerCase()||"meta"===n.key.toLowerCase()||("tab"!==n.key.toLowerCase()||!A)&&(A="escape"===n.key.toLowerCase(),!0)})),d({onKey:h.onKey.bind(h),onData:h.onData.bind(h),onResize:h.onResize.bind(h),write:h.write.bind(h),fit:function(){var n=e.getBoundingClientRect(),t=n.width,r=n.height;t>0&&r>0&&m.fit()},focus:function(){return h.focus()},clear:function(){return h.clear()},findPrevious:function(n){return T.findPrevious(n)},findNext:function(n){return T.findNext(n)},getSize:function(){return{cols:h.cols,rows:h.rows}},_term:h}),E(e),[2]):[2]}}))})),t.apply(this,arguments)}}),[e,E,g]),function(n,e,r){var o=r.screenReaderMode,i=r.fileLinking,u=r.terminalTheme;(0,a.useEffect)((function(){n&&u&&(n.options.theme=u)}),[n,u]),(0,a.useEffect)((function(){n&&(n.options.screenReaderMode=o)}),[n,o]),(0,a.useEffect)((function(){if(n)if(i){if(!e.current){var r=!1;return t.e(2510).then(t.bind(t,82510)).then((function(t){var o=t.FileLinkAddon;r||(e.current=new o(i.openFile,i.listFiles),n.loadAddon(e.current))})),function(){r=!0}}e.current.update(i.openFile,i.listFiles),e.current.reactivate()}else e.current&&e.current.deactivate()}),[n,i,e])}(null===f||void 0===f?void 0:f._term,v,h),[f,u]}function D(n,e){return!window.navigator.clipboard||("c"!==e.key.toLowerCase()||!e.ctrlKey||!e.shiftKey||("keyup"===e.type&&n.hasSelection()&&(0,s.Z)(n.getSelection()).catch((function(n){u.$e((function(e){e.setTag("xterm-clipboard",!0),e.setExtra("type","copy"),u.Tb(n)}))})),e.preventDefault(),e.stopPropagation(),!1))}},84563:function(n,e,t){t.d(e,{I:function(){return i}});var r="\x1b[200~",o="\x1b[201~";function i(n){return function(n){return n.startsWith(r)&&n.endsWith(o)}(n)?n.slice(r.length,n.length-o.length):n}},26020:function(n,e,t){t.d(e,{a:function(){return u},f:function(){return c}});var r=t(30888),o=t(14840),i=t(98251),a=t(67294);function u(){var n={};return(0,r.F)().theme.id===o.Dy.id&&(n=(0,i.zL)(o.Sj.values)),n}function c(){var n=(0,r.F)(),e=n.theme,t=n.values;return(0,a.useMemo)((function(){return e.id===o.Dy.id?s(o.Sj.values):s(t)}),[e,t])}function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Sj.values;return{foreground:n.global.foregroundDefault,background:n.global.backgroundDefault,cursor:n.global.foregroundDefault,cursorAccent:n.global.backgroundHigher,selectionBackground:n.global.foregroundDefault,black:n.global.backgroundRoot,red:n.global.redStronger,green:n.global.accentPositiveDefault,yellow:n.global.yellowDefault,blue:n.global.blueStronger,magenta:n.global.magentaDefault,cyan:n.global.tealDefault,white:n.global.foregroundDefault,brightBlack:n.global.outlineDimmest,brightRed:n.global.redStrongest,brightGreen:n.global.accentPositiveStronger,brightYellow:n.global.yellowStronger,brightBlue:n.global.blueStrongest,brightMagenta:n.global.magentaStronger,brightCyan:n.global.tealStronger,brightWhite:n.global.foregroundDefault}}},19613:function(n,e,t){t.d(e,{LX:function(){return a},Vh:function(){return u}});var r=t(84159),o={"c#":"cs","c++":"cpp"},i=["c","cs","css","cpp","go","python","java","javascript","html","php","perl","r","sql","apex","rust","ruby"];function a(n,e){var t;if(!n)return"";var a,u=function(e){return(0,r.Z)(n,"Language: ".concat(e))},c=null!==(a=null===(t=o[n])||void 0===t?void 0:t.toLowerCase())&&void 0!==a?a:n,s="<|".concat(c,"|>");return i.includes(c)?u("python"===n?"python 3":s):u(n)}function u(n){var e="Running the code in my project results in the error:";return e+="\n```\n".concat(n,"\n```\n\n")}},84159:function(n,e,t){function r(n,e){switch(n){case"coffeescript":case"dockerfile":case"elixir":case"julia":case"makefile":case"perl":case"python":case"shellscript":case"terraform":case"yaml":return"# ".concat(e);case"sql":case"lua":return"-- ".concat(e);case"html":case"svelte":case"xml":case"xsl":return"\x3c!-- ".concat(e," --\x3e");case"css":return"/* ".concat(e," */");case"tex":case"latex":case"matlab":return"% ".concat(e);case"vb":return"' ".concat(e);case"markdown":return"[]: # ".concat(e);case"handlebars":return"{{!-- ".concat(e," --}}");case"haml":return"-# ".concat(e);case"erb":return"<%# ".concat(e," %>");default:return"// ".concat(e)}}t.d(e,{Z:function(){return r}})},88710:function(n,e,t){t.d(e,{G:function(){return r},Z:function(){return a}});var r,o=t(9941);!function(n){n.NotFound="NotFound",n.NotAllowed="NotAllowed",n.ConcurrentReplLimit="ConcurrentReplLimit",n.FirewallDenied="FirewallDenied",n.LanguageTokenDenied="LanguageTokenDenied"}(r||(r={}));var i={"repl not found":r.NotFound,"not allowed to run at this time":r.NotAllowed,"language tokens are only for logged out people.":r.LanguageTokenDenied,"connect to unfirewalled repl from firewall mode":r.FirewallDenied};function a(n){var e=!0,t=!1,r=void 0;try{for(var a,u=Object.entries(i)[Symbol.iterator]();!(e=(a=u.next()).done);e=!0){var c=(0,o.Z)(a.value,2),s=c[0],l=c[1];if(n.message.toLowerCase().includes(s))return l}}catch(f){t=!0,r=f}finally{try{e||null==u.return||u.return()}finally{if(t)throw r}}return null}}}]);
//# sourceMappingURL=6565-2fe3e0668149fcad.js.map